<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Report Generator</title>
    
    <!-- CSS -->
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">

    <!-- jQuery first, then Select2 -->
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
</head>
<body>
    <!-- Modal for notifications -->
    <div id="notificationModal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <div id="modalIcon" class="modal-icon"></div>
            <div id="modalMessage" class="modal-message"></div>
        </div>
    </div>

    <!-- Loading spinner -->
    <div id="loadingSpinner" class="loading-spinner">
        <div class="spinner"></div>
    </div>


    <div class="container">
        <h2>Generate Report</h2>
        <form id="fileForm">
            <div class="form-group col-md-3">
                <label>Property Name :</label>
                <select id="propertySelect" name="property" class="select2 form-control">
                    <option value=""></option>
                    <option value="Seaside Resort">üèñÔ∏è Seaside Resort</option>
                    <option value="Mountain Lodge">üèîÔ∏è Mountain Lodge</option>
                    <option value="City Hotel Downtown">üèôÔ∏è City Hotel Downtown</option>
                    <option value="Beach Villa Complex">üèùÔ∏è Beach Villa Complex</option>
                    <option value="Lake View Resort">üåÖ Lake View Resort</option>
                </select>
            </div>

            <!-- Date Range Selector -->
            <div class="input-group date-range">
                <label>Select Date Range:</label>
                <div class="date-inputs">
                    <input type="date" id="startDate" name="startDate">
                    <span>to</span>
                    <input type="date" id="endDate" name="endDate">
                </div>
            </div>
    
            <div class="input-group">
                <label for="file1">File Stayflexi :</label>
                <input type="file" id="file1" accept=".xlsx, .csv" required>
            </div>
            
            <div class="input-group">
                <label for="file2">File MMT :</label>
                <input type="file" id="file2" accept=".xlsx, .csv">
            </div>
    
            <div class="input-group">
                <label for="file3">Prev Week Old MMT:</label>
                <input type="file" id="file3" accept=".xlsx, .csv">
            </div>
            
            <div class="input-group">
                <label for="file4">Prev Week New MMT:</label>
                <input type="file" id="file4" accept=".xlsx, .csv">
            </div>
    
            <div class="input-group">
                <label for="slider">Commission Percentage Value (1-50):</label>
                <input type="range" id="slider" min="1" max="50" value="30">
                <span id="sliderValue" style="font-weight: bold; margin-left: 10px;">30</span>
            </div>
    
            <div class="row btn">
                <button type="button" id="submitFiles">MMT Success Report</button>
                <button type="button" id="submitFiles1">MMT&Booking.com Report</button>
                <button type="button" id="submitFiles2">Booking.com Success Report</button>
                <button type="button" id="submitFiles3">Booking.com Cancelled Report</button>
            </div>
            
            <div id="alertMessage" class="alert"></div>
        </form>
    </div>

    <!-- Initialize Select2 after DOM is ready -->
    <!-- <script>
        $(document).ready(function() {
            // Wait for a moment to ensure Select2 is fully loaded
            setTimeout(function() {
                $("#propertySelect").select2({
                    placeholder: "Search or select a property...",
                    allowClear: true,
                    width: '100%',
                    minimumResultsForSearch: 0
                });
            }, 100);
            
            // Slider value update
            $("#slider").on('input', function() {
                $("#sliderValue").text($(this).val());
            });
        });
    </script> -->
    <!-- <script src="{{ url_for('static', filename='scripts.js') }}"></script> -->
    <script src="{{ url_for('static', filename='scripts2.js') }}"></script>
</body>
</html>